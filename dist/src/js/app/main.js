"use strict";var currentPage="first",autoScrolling=!1,firstOffset=$(".first").offset().top,secondOffset=$(".second").offset().top,thirdOffset=$(".third").offset().top;$(document).scroll((function(e){var t=$(window).scrollTop();if(!autoScrolling)switch(!0){case t>1&&"first"==currentPage:a(secondOffset,"second");break;case t>secondOffset&&"second"==currentPage:a(thirdOffset,"third");break;case t<thirdOffset&&"third"==currentPage:a(secondOffset,"second");break;case t<secondOffset&&"second"==currentPage:a(firstOffset,"first")}function a(e,t){currentPage=t,autoScrolling=!0,$("body,html").animate({scrollTop:e},600,(function(){autoScrolling=!1}))}}));var caruselSlide=0;function moveCarusel(e){var t=$(document).width();if("left"==$(e.target).attr("id"))return 0==caruselSlide?($(".carusel-items").animate({left:"".concat(2*-t)},50),caruselSlide=2):2==caruselSlide?($(".carusel-items").animate({left:"".concat(-t)},50),caruselSlide=1):($(".carusel-items").animate({left:"".concat(0)},50),caruselSlide=0),void checkSelect("select",".navigation",caruselSlide);0==caruselSlide?($(".carusel-items").animate({left:"".concat(-t)},50),caruselSlide=1):1==caruselSlide?($(".carusel-items").animate({left:"".concat(2*-t)},50),caruselSlide=2):($(".carusel-items").animate({left:"".concat(0)},50),caruselSlide=0),checkSelect("select",".navigation",caruselSlide)}function checkSelect(e,t,a){$(".".concat(e)).removeClass(e),$("".concat(t," div:nth-child(").concat(a+1,")")).addClass(e)}function moveStars(e){var t=Math.floor((event.clientX-$(window).width()/2)/e)+"px",a=Math.floor((event.clientY-$(window).height()/2)/e)+"px";$(".second img").css("transform","translate(".concat(t,",").concat(a,")"))}$("#left").click((function(e){moveCarusel(e)})),$("#right").click((function(e){moveCarusel(e)})),$(".first-block").click((function(){$(".carusel-items").animate({left:"".concat(0)},50),checkSelect("select",".navigation",caruselSlide=0)})),$(".second-block").click((function(){$(".carusel-items").animate({left:"".concat(-$(document).width())},50),checkSelect("select",".navigation",caruselSlide=1)})),$(".third-block").click((function(){$(".carusel-items").animate({left:"".concat(2*-$(document).width())},50),checkSelect("select",".navigation",caruselSlide=2)})),$(".second").mousemove((function(){moveStars(15)}));var validationState={name:!1,email:!1,message:!1};function validationInput(e,t,a,s){$("#".concat(e)).val().search(a)?(validationState[e]=!1,$(".error-message.".concat(e)).attr("data-show","show"),$(".error-message.".concat(e," p")).html(s),$("#".concat(e)).css({border:"1px solid crimson"}),$(".error-message.".concat(e)).css({transform:"translate(-50%, -110%)"}),"show"==$(".error-message.".concat(t)).attr("data-show")&&$(".error-message.".concat(t)).css({transform:"translate(-50%, -220%)"})):(validationState[e]=!0,$(".error-message.".concat(e)).attr("data-show","hidden"),$("#".concat(e)).css({border:"1px solid green"}),$(".".concat(e)).css({transform:"translate(-50%, 10%)"}),"show"==$(".error-message.".concat(t)).attr("data-show")&&$(".error-message.".concat(t)).css({transform:"translate(-50%, -110%)"}))}function shakeInvalidForm(e){$("#".concat(e)).css("transform","translate(2%,0)"),setTimeout((function(){return $("#".concat(e)).css("transform","translate(-2%,0)")}),200),setTimeout((function(){return $("#".concat(e)).css("transform","translate(0,0)")}),400),$("#".concat(e)).css({border:"1px solid crimson"})}function sendForm(){$(".form-wraper").css("transform","translate(0,100vh)"),$(".modal").css("transform","translate(0,0)")}function formRest(){validationState.name=!1,validationState.email=!1,validationState.message=!1,$("#name,#email,#message").css({border:"none"}),$("form")[0].reset()}$("#name").change((function(){validationInput("name","email",/(^[а-яёА-ЯЁ]{2,15}$|^[a-zA-Z]{2,15}$)/g,"Name must contain only letters!")})),$("#email").change((function(){validationInput("email","name",/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/m,"Invalid email address. Valid e-mail can contain only latin letters, numbers, '@' and '.'!")})),$("#message").change((function(){""==$("#message").val().trim()?(validationState.message=!1,$("#message").css({border:"1px solid crimson"})):(validationState.message=!0,$("#message").css({border:"1px solid green"}))})),$("#send").click((function(e){for(var t in e.preventDefault(),validationState)if(!validationState[t])return void shakeInvalidForm(t);sendForm()})),$(".modal button").click((function(){$(".form-wraper").css("transform","translate(0,0)"),$(".modal").css("transform","translate(0,-70vh)"),formRest()}));